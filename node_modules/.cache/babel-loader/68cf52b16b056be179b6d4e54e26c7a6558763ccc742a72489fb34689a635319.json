{"ast":null,"code":"var _jsxFileName = \"/Users/ksphdinhquy/Desktop/IT/checkinConUDSMP/src/components/scanner/index.js\",\n  _s = $RefreshSig$();\nimport { memo, useEffect, useState } from \"react\";\nimport QrReader from \"react-qr-scanner\";\nimport manhinhcheckin from \"../../assets/manhinhcheckin.png\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction Scanner({\n  onScan\n}) {\n  _s();\n  const [devices, setDevices] = useState([]);\n  const [device, setDevice] = useState(null);\n  useEffect(() => {\n    getDevices();\n  }, []);\n  const getDevices = () => {\n    navigator.mediaDevices.enumerateDevices().then(dvs => {\n      var _videoinput$;\n      const videoinput = dvs.filter(d => d.kind === \"videoinput\");\n      setDevices(videoinput);\n      if ((_videoinput$ = videoinput[0]) !== null && _videoinput$ !== void 0 && _videoinput$.deviceId) {\n        setDevice(videoinput[0]);\n      }\n    });\n  };\n  const handleScan = data => {\n    if (!data) return;\n    onScan && onScan(data.text);\n  };\n  const handleError = err => {\n    console.log(err);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"d-flex flex-column w-100 h-100\",\n    children: device &&\n    /*#__PURE__*/\n    // <Col span={24}>\n    _jsxDEV(\"div\", {\n      style: {\n        position: \"relative\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"img\", {\n        style: {\n          width: \"100%\",\n          position: \"absolute\"\n        },\n        src: manhinhcheckin,\n        alt: \"\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(QrReader, {\n        className: \"scanner\",\n        constraints: {\n          video: {\n            deviceId: device.deviceId\n          }\n        },\n        delay: 100,\n        onError: handleError,\n        onScan: handleScan,\n        onLoad: value => console.log(\"load\", value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 9\n    }, this)\n    // </Col>\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 32,\n    columnNumber: 5\n  }, this);\n}\n_s(Scanner, \"uNccU7sDAqjqzzcvlf21ymtqBow=\");\n_c = Scanner;\nexport default _c2 = /*#__PURE__*/memo(Scanner);\nvar _c, _c2;\n$RefreshReg$(_c, \"Scanner\");\n$RefreshReg$(_c2, \"%default%\");","map":{"version":3,"names":["memo","useEffect","useState","QrReader","manhinhcheckin","jsxDEV","_jsxDEV","Scanner","onScan","_s","devices","setDevices","device","setDevice","getDevices","navigator","mediaDevices","enumerateDevices","then","dvs","_videoinput$","videoinput","filter","d","kind","deviceId","handleScan","data","text","handleError","err","console","log","className","children","style","position","width","src","alt","fileName","_jsxFileName","lineNumber","columnNumber","constraints","video","delay","onError","onLoad","value","_c","_c2","$RefreshReg$"],"sources":["/Users/ksphdinhquy/Desktop/IT/checkinConUDSMP/src/components/scanner/index.js"],"sourcesContent":["import { memo, useEffect, useState } from \"react\";\nimport QrReader from \"react-qr-scanner\";\nimport manhinhcheckin from \"../../assets/manhinhcheckin.png\";\nfunction Scanner({ onScan }) {\n  const [devices, setDevices] = useState([]);\n  const [device, setDevice] = useState(null);\n\n  useEffect(() => {\n    getDevices();\n  }, []);\n\n  const getDevices = () => {\n    navigator.mediaDevices.enumerateDevices().then((dvs) => {\n      const videoinput = dvs.filter((d) => d.kind === \"videoinput\");\n      setDevices(videoinput);\n      if (videoinput[0]?.deviceId) {\n        setDevice(videoinput[0]);\n      }\n    });\n  };\n\n  const handleScan = (data) => {\n    if (!data) return;\n    onScan && onScan(data.text);\n  };\n\n  const handleError = (err) => {\n    console.log(err);\n  };\n\n  return (\n    <div className=\"d-flex flex-column w-100 h-100\">\n      {/* <Col span={24}> */}\n      {/* <Select\n        className=\"w-100\"\n        style={{}}\n        value={device?.deviceId || \"\"}\n        onChange={(value) =>\n          setDevice(devices.find((d) => d.deviceId === value))\n        }\n      >\n        {devices.map((item, index) => (\n          <Select.Option key={item.deviceId} value={item.deviceId}>\n            {item.label}\n          </Select.Option>\n        ))}\n      </Select> */}\n      {/* </Col> */}\n      {device && (\n        // <Col span={24}>\n        <div\n          style={{\n            position: \"relative\",\n          }}\n        >\n          <img\n            style={{\n              width: \"100%\",\n              position: \"absolute\",\n            }}\n            src={manhinhcheckin}\n            alt=\"\"\n          />\n          <QrReader\n            className=\"scanner\"\n            constraints={{\n              video: { deviceId: device.deviceId },\n            }}\n            delay={100}\n            onError={handleError}\n            onScan={handleScan}\n            onLoad={(value) => console.log(\"load\", value)}\n          />\n        </div>\n        // </Col>\n      )}\n    </div>\n  );\n}\n\nexport default memo(Scanner);\n"],"mappings":";;AAAA,SAASA,IAAI,EAAEC,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AACjD,OAAOC,QAAQ,MAAM,kBAAkB;AACvC,OAAOC,cAAc,MAAM,iCAAiC;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAC7D,SAASC,OAAOA,CAAC;EAAEC;AAAO,CAAC,EAAE;EAAAC,EAAA;EAC3B,MAAM,CAACC,OAAO,EAAEC,UAAU,CAAC,GAAGT,QAAQ,CAAC,EAAE,CAAC;EAC1C,MAAM,CAACU,MAAM,EAAEC,SAAS,CAAC,GAAGX,QAAQ,CAAC,IAAI,CAAC;EAE1CD,SAAS,CAAC,MAAM;IACda,UAAU,CAAC,CAAC;EACd,CAAC,EAAE,EAAE,CAAC;EAEN,MAAMA,UAAU,GAAGA,CAAA,KAAM;IACvBC,SAAS,CAACC,YAAY,CAACC,gBAAgB,CAAC,CAAC,CAACC,IAAI,CAAEC,GAAG,IAAK;MAAA,IAAAC,YAAA;MACtD,MAAMC,UAAU,GAAGF,GAAG,CAACG,MAAM,CAAEC,CAAC,IAAKA,CAAC,CAACC,IAAI,KAAK,YAAY,CAAC;MAC7Db,UAAU,CAACU,UAAU,CAAC;MACtB,KAAAD,YAAA,GAAIC,UAAU,CAAC,CAAC,CAAC,cAAAD,YAAA,eAAbA,YAAA,CAAeK,QAAQ,EAAE;QAC3BZ,SAAS,CAACQ,UAAU,CAAC,CAAC,CAAC,CAAC;MAC1B;IACF,CAAC,CAAC;EACJ,CAAC;EAED,MAAMK,UAAU,GAAIC,IAAI,IAAK;IAC3B,IAAI,CAACA,IAAI,EAAE;IACXnB,MAAM,IAAIA,MAAM,CAACmB,IAAI,CAACC,IAAI,CAAC;EAC7B,CAAC;EAED,MAAMC,WAAW,GAAIC,GAAG,IAAK;IAC3BC,OAAO,CAACC,GAAG,CAACF,GAAG,CAAC;EAClB,CAAC;EAED,oBACExB,OAAA;IAAK2B,SAAS,EAAC,gCAAgC;IAAAC,QAAA,EAiB5CtB,MAAM;IAAA;IACL;IACAN,OAAA;MACE6B,KAAK,EAAE;QACLC,QAAQ,EAAE;MACZ,CAAE;MAAAF,QAAA,gBAEF5B,OAAA;QACE6B,KAAK,EAAE;UACLE,KAAK,EAAE,MAAM;UACbD,QAAQ,EAAE;QACZ,CAAE;QACFE,GAAG,EAAElC,cAAe;QACpBmC,GAAG,EAAC;MAAE;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACP,CAAC,eACFrC,OAAA,CAACH,QAAQ;QACP8B,SAAS,EAAC,SAAS;QACnBW,WAAW,EAAE;UACXC,KAAK,EAAE;YAAEpB,QAAQ,EAAEb,MAAM,CAACa;UAAS;QACrC,CAAE;QACFqB,KAAK,EAAE,GAAI;QACXC,OAAO,EAAElB,WAAY;QACrBrB,MAAM,EAAEkB,UAAW;QACnBsB,MAAM,EAAGC,KAAK,IAAKlB,OAAO,CAACC,GAAG,CAAC,MAAM,EAAEiB,KAAK;MAAE;QAAAT,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAC/C,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACC;IACL;EACD;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACE,CAAC;AAEV;AAAClC,EAAA,CA3EQF,OAAO;AAAA2C,EAAA,GAAP3C,OAAO;AA6EhB,eAAA4C,GAAA,gBAAenD,IAAI,CAACO,OAAO,CAAC;AAAC,IAAA2C,EAAA,EAAAC,GAAA;AAAAC,YAAA,CAAAF,EAAA;AAAAE,YAAA,CAAAD,GAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}