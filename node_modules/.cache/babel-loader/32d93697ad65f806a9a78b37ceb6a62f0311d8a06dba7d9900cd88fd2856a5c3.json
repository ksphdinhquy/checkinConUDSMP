{"ast":null,"code":"var _jsxFileName = \"/Users/ksphdinhquy/Desktop/IT/checkinConUDSMP/src/components/AddWorkshop.jsx\",\n  _s = $RefreshSig$();\nimport { Modal } from \"antd\";\nimport { doc, onSnapshot, setDoc } from \"firebase/firestore\";\nimport React, { memo, useEffect, useState } from \"react\";\nimport { toast } from \"react-toastify\";\nimport { v4 as uuidv4 } from \"uuid\";\nimport { db } from \"../firebase\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst AddWorkshop = ({\n  modalIsOpen,\n  setIsOpen\n}) => {\n  _s();\n  const [listWorkShop, setListWorkShop] = useState({});\n  const [workShop, setWorkShop] = useState({});\n  const handleAddPrize = () => {\n    setWorkShop(prev => ({\n      ...prev,\n      [uuidv4()]: {\n        name: \"\",\n        isEnable: true\n      }\n    }));\n  };\n  const handleDeleteWorkShop = key => {\n    setWorkShop(prev => {\n      const newList = {\n        ...prev\n      };\n      delete newList[key];\n      return newList;\n    });\n  };\n  const handleChange = (key, type, e) => {\n    setWorkShop(prev => {\n      const newList = {\n        ...prev\n      };\n      newList[key][type] = e.target.value;\n      return newList;\n    });\n  };\n  const handleEnable = key => {\n    setWorkShop(prev => {\n      const newList = {\n        ...prev\n      };\n      newList[key].isEnable = !newList[key].isEnable;\n      return newList;\n    });\n  };\n  const handleSubmit = async () => {\n    const newListWorkShop = {\n      ...listWorkShop\n    };\n    for (const key in newListWorkShop) {\n      newListWorkShop[key].isEnable = false;\n      if (newListWorkShop[key].name === \"\") {\n        delete newListWorkShop[key];\n      }\n    }\n\n    // Thay đổi tên document thành \"room\"\n    await setDoc(doc(db, \"room\", \"room\"), newListWorkShop);\n    toast.success(\"Lưu thành công!\", {\n      position: \"top-right\",\n      autoClose: 3000\n    });\n  };\n  useEffect(() => {\n    const unsub = onSnapshot(doc(db, \"room\", \"room\"), doc => {\n      setListWorkShop(doc.data() || {});\n    });\n    return () => {\n      unsub();\n    };\n  }, []);\n  return /*#__PURE__*/_jsxDEV(Modal, {\n    title: \"Danh s\\xE1ch H\\u1ED9i th\\u1EA3o\",\n    centered: true,\n    open: modalIsOpen,\n    onCancel: () => setIsOpen(false),\n    footer: null,\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [Object.entries(listWorkShop).map(([key, value]) => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"d-flex mb-3\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          className: \"form-control me-2\",\n          placeholder: \"T\\xEAn h\\u1ED9i th\\u1EA3o\",\n          type: \"text\",\n          disabled: !value.isEnable,\n          onChange: e => handleChange(key, \"name\", e),\n          value: value.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn btn-sm btn-warning me-2\",\n          onClick: () => handleEnable(key),\n          children: value.isEnable ? \"Thêm\" : \"Sửa\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn btn-sm btn-danger text-white\",\n          onClick: () => handleDeleteWorkShop(key),\n          children: \"X\\xF3a\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 25\n        }, this)]\n      }, key, true, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 21\n      }, this)), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"d-flex align-items-center\",\n        style: {\n          marginTop: \"2rem\",\n          justifyContent: \"center\"\n        },\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleAddPrize,\n          className: \"btn btn-secondary text-white\",\n          children: \"Th\\xEAm H\\u1ED9i th\\u1EA3o\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"d-flex align-items-center\",\n        style: {\n          marginTop: \"1rem\",\n          justifyContent: \"flex-end\"\n        },\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleSubmit,\n          className: \"btn btn-primary text-white\",\n          children: \"L\\u01B0u l\\u1EA1i\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 111,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 73,\n    columnNumber: 9\n  }, this);\n};\n_s(AddWorkshop, \"KxMHB8OG3WIvLX7RBtKNXScMsHo=\");\n_c = AddWorkshop;\nexport default _c2 = /*#__PURE__*/memo(AddWorkshop);\nvar _c, _c2;\n$RefreshReg$(_c, \"AddWorkshop\");\n$RefreshReg$(_c2, \"%default%\");","map":{"version":3,"names":["Modal","doc","onSnapshot","setDoc","React","memo","useEffect","useState","toast","v4","uuidv4","db","jsxDEV","_jsxDEV","AddWorkshop","modalIsOpen","setIsOpen","_s","listWorkShop","setListWorkShop","workShop","setWorkShop","handleAddPrize","prev","name","isEnable","handleDeleteWorkShop","key","newList","handleChange","type","e","target","value","handleEnable","handleSubmit","newListWorkShop","success","position","autoClose","unsub","data","title","centered","open","onCancel","footer","children","Object","entries","map","className","placeholder","disabled","onChange","fileName","_jsxFileName","lineNumber","columnNumber","onClick","style","marginTop","justifyContent","_c","_c2","$RefreshReg$"],"sources":["/Users/ksphdinhquy/Desktop/IT/checkinConUDSMP/src/components/AddWorkshop.jsx"],"sourcesContent":["import { Modal } from \"antd\";\nimport { doc, onSnapshot, setDoc } from \"firebase/firestore\";\nimport React, { memo, useEffect, useState } from \"react\";\nimport { toast } from \"react-toastify\";\nimport { v4 as uuidv4 } from \"uuid\";\nimport { db } from \"../firebase\";\n\nconst AddWorkshop = ({ modalIsOpen, setIsOpen }) => {\n    const [listWorkShop, setListWorkShop] = useState({});\n    const [workShop, setWorkShop] = useState({});\n\n    const handleAddPrize = () => {\n        setWorkShop((prev) => ({\n            ...prev,\n            [uuidv4()]: {\n                name: \"\",\n                isEnable: true,\n            },\n        }));\n    };\n\n    const handleDeleteWorkShop = (key) => {\n        setWorkShop((prev) => {\n            const newList = { ...prev };\n            delete newList[key];\n            return newList;\n        });\n    };\n\n    const handleChange = (key, type, e) => {\n        setWorkShop((prev) => {\n            const newList = { ...prev };\n            newList[key][type] = e.target.value;\n            return newList;\n        });\n    };\n\n    const handleEnable = (key) => {\n        setWorkShop((prev) => {\n            const newList = { ...prev };\n            newList[key].isEnable = !newList[key].isEnable;\n            return newList;\n        });\n    };\n\n    const handleSubmit = async () => {\n        const newListWorkShop = { ...listWorkShop };\n        for (const key in newListWorkShop) {\n            newListWorkShop[key].isEnable = false;\n            if (newListWorkShop[key].name === \"\") {\n                delete newListWorkShop[key];\n            }\n        }\n\n        // Thay đổi tên document thành \"room\"\n        await setDoc(doc(db, \"room\", \"room\"), newListWorkShop);\n        toast.success(\"Lưu thành công!\", {\n            position: \"top-right\",\n            autoClose: 3000,\n        });\n    };\n\n    useEffect(() => {\n        const unsub = onSnapshot(doc(db, \"room\", \"room\"), (doc) => {\n            setListWorkShop(doc.data() || {});\n        });\n        return () => {\n            unsub();\n        };\n    }, []);\n\n    return (\n        <Modal\n            title=\"Danh sách Hội thảo\"\n            centered\n            open={modalIsOpen}\n            onCancel={() => setIsOpen(false)}\n            footer={null}\n        >\n            <div>\n                {Object.entries(listWorkShop).map(([key, value]) => (\n                    <div className=\"d-flex mb-3\" key={key}>\n                        <input\n                            className=\"form-control me-2\"\n                            placeholder=\"Tên hội thảo\"\n                            type=\"text\"\n                            disabled={!value.isEnable}\n                            onChange={(e) => handleChange(key, \"name\", e)}\n                            value={value.name}\n                        />\n                        <button\n                            className=\"btn btn-sm btn-warning me-2\"\n                            onClick={() => handleEnable(key)}\n                        >\n                            {value.isEnable ? \"Thêm\" : \"Sửa\"}\n                        </button>\n                        <button\n                            className=\"btn btn-sm btn-danger text-white\"\n                            onClick={() => handleDeleteWorkShop(key)}\n                        >\n                            Xóa\n                        </button>\n                    </div>\n                ))}\n                <div className=\"d-flex align-items-center\" style={{ marginTop: \"2rem\", justifyContent: \"center\" }}>\n                    <button onClick={handleAddPrize} className=\"btn btn-secondary text-white\">\n                        Thêm Hội thảo\n                    </button>\n                </div>\n                <div className=\"d-flex align-items-center\" style={{ marginTop: \"1rem\", justifyContent: \"flex-end\" }}>\n                    <button onClick={handleSubmit} className=\"btn btn-primary text-white\">\n                        Lưu lại\n                    </button>\n                </div>\n            </div>\n        </Modal>\n    );\n};\n\nexport default memo(AddWorkshop);"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}